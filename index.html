<html>

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">

<title>Ingress scoring cycle</title>

<link rel="icon" sizes="192x192" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAABiVBMVEUAAADDW8PBWsHCWsK8TbzAV8C3RrfDWsPCWsLBWcHCWcLBWMHAWMC/Vb/AVcC+Ur7KYcq/U7/DWsPBWMHBV8G/Vr+/Vb+6T7rAVsDBWMHAWMDBWMHBVsG/VL++Vr68ULy/V7++Ub6+Vr7EWsTAWcC/VL+8TLzBWsHcodz+/f7////BWMHcn9zdo93AVsDbndvbnNv//f/AVMD79vvQhNDv1+/68fram9q+Sr6+P77DW8P15vXamdrktuT++/7dpN39+f2/Ub/89/z78/v58Pnepd6/T7/36vfFZcXHbMfEYcTy4PLlvOW+RL69Pr3u1O7rz+vfqN/Kdcr47Pj26Pb04/ToxujRiNHEXMS+Rr7kueTitOLx2/Ht0e3hruHXldfNfs3JcsnGaMbx3vHrzOvnw+fgt+DVkNXMfMzpyOnYmNjSitK+Tb7gq+DTkNPLecvDX8Pz4fPiseLIcMjpyunlwOXWm9a8N7zSjdLYoNjPgM+/Sr/bqNvUldTdrd305fTest7apNq5E7k9MFPXAAAAJ3RSTlMA/oHzEZsD+urm18G4b2EfCzv206WHHAg13s6wknRXU0w/LthnXCbhOx/JAAAR9klEQVR42tSYeU9TQRTF39AWCl3YQUAUcZnXeZut4DPk2bK0AVoSLEJLKl2VFEoMCBoNn15qqt4zKEVkac9fJCTkHN6Ze38zyg3L7VbaWk8eP36itK96BxnnbLBXaU+5hzjjZ2J8qC171OHd5g1tezuUdtODbsaJWPcDpY3UOeLb5pK2fSOdSpto1NM1x89prsszqrSFhl2M/1HMNay0vEb7x2h7NMY02qOx/hb/CtMTc4zYj2wUixsREoHNTUwrLayhAU5kJovqmYpJkxMNDCktqr6ga5vaPzo1jHoAwzg9MmmPXME+pQX1wEfbY0ZKTkxtKOaUIibtka/1tkKfr4sTRVYdQyUynNUIJ+rytdZHcHdwMvk1M5mNqZJi2aSpka3AO1oIkCZ74L/PZqyGf0hgzTD4Cj2TSmvoXg9M/oUNS/2LrI0F2Ao995S7V68H2qNVqglqOZ2mcRLVigY98tz5XWHYC+1ZOdANYt/Zj8f3HRLB0A9WoEfeu6WLYDelNi1S0lWi54V4OBQKxwvPVSK9FNEo43UHlbvSPT+j3MBPajHi00rPChE6kxCzaYski9VOOKUL5r+bozDiAW5YWK2qpD22lX8hQg2JF3nLJj1Sq6sLQBeeEeXW1QHQrPEDlcpea9j/FWHNVqkOuAagfdt3zimY/CY7tKE9xykRkiRSx9Aj+5CZsBWmlNvToyGGk79okPY46Z35hn9IML+TdkiPjCJuBTb0SLkddeKN0UxWKfbo9j7Yhwj7tk4BqZo08c55G7fm0aAXmb8Ek1/PLYN9lFjO6bAVShCBe4M3fmF76gP7Zgmo0zneioJ/WSK6dewApZZMiOB7qtykev2c0cVbqUF7rPVoqKmi6xb0qFahq5lx/83RxcjkAEDzStag7VF3l3B00h+JxNKuSntkZFcAtAcmb2grBHoYjM4Zi9jXa2vLoTD4fJtv+Bb5t5AgHFpeq+kkgjUDI5X1BJTrV/8gg/aXbQDlRCocQpPr1uufAV5b6yHp16kEQLddhpPABvuv2f70fYTm1WrCoND8YVFIZ7Xg0ABOQTrdYvFDmvYoUV1F0L5/nc8vfcNeOLtJCZozcfz/is2crqs0gKrruU2BHyGekUA7CafZO3xt1+aHCM3aHrWvWoVlIe2rTH3OYID6jMrMC2krFCyVRtjTELQfXg80T0B7eLkI2PNxXe7GTsJWVTlAXXZiR27a+kcApGKZQ48m/h+0n3lcgD0VgGbLykvUKT41mA0D/KK8T0Ki1LxlAWhXAJBcnmf/hz0BFz7VZg1oT25J6vVSzmnYlwM0Iji5Jem8LOWgR0YWn4Ndgc6r2z8bnYzaP3SgPe9SQqCXPNlQEIDuuzymFiL1DnrkAGizs5F6xQiP/F2cKlk06OROSNAswrNQaAwAx2Y2LCTQTsBWKZbh2tzlvwpou+uTH6SVdeO3i93FcyMFTEgBQPa5wbW4i4D0Lalx2Aruf7U/1Rid+GhSNBrQvLYpkBviGRtcygFQlp2JI12IzTUK2jH9FO8K3VP/FOHhOON/kHb0482zvlbR/vxnIIO/BED2+DyPEerLGz7TngkXtvHLbwW3nzyUoyJ7qq6+iUpgs0WooEkAyh9b0p+JvlF1lW6FCiDenN99OeYPuKA9qFfl3bgEzZuAls0CAMBuhoRURAO2QnYlQhebK9B7CWgeu8C+9jWbktrz8osB9psEwAjGl5cyaOccBG0NjsJYoMnk7xu/yL65si8EXq9mdbTfPABG0GejOI/E+zT0yD5BQBrvu2grBPlF7fnOrNmvpQ1DYfxxF7DbCCRpS6u1bjIoVRBl5UPEjVXnVFCZfIgIDt10u/ONBJomUjeBZ+37j6II+T2+J3lzDtmfgnsSXYfU3WwAVHGnmxDSRS0d8x7N7W1+MvL6uXab//q1/HBLCAHlUWieF2AUtMtCI2C1Hsdc0L7SPASvngPgdx9u4qsL72I1yLvMAcACUsMSmhfrnzEXtDue3WgGAFQ97ptC7LkpkYN3HgAmo6WLQVtvGXzQRmhmAO3e4SMkhIcdbRfPBSD66LrCn+2qVVS4CHV+gmYDQNrKo+Ce8o88AtqJIc0FIPqovyH4aPMdxt4xpzwLgFy9KwrZsXwG1ugovi3ND8BkSGLQVnMO85G0MgtAE+1bvHvU/vbkdETgLj0fgOgjOtRhUs0DyZgDAKHBquCeypcqYBILQQRQiRjAX2U4ZcFHy/U5AOwChFztPv66z/AO22ZzMVG4dVgjOmyJmP5SlP1NrpohrBizAqA3nCeh+XBF3cNdky+T/p4YK/IS4WSNP5qXY7MDeA1kFrJrYIrklciCZZQqiUUDQPXgh635hIxd//0UKwp+OQE2yI1vgQBwdbCk+afU7JEPgRFxnFJ8FoRI3YKLA4BduwmeEVo6n0qQLJgQqhVSwy9VzCjDxQEUqsBX7EMGopQ9SHdCtwX6kno2KgsE0NfAX4R6WBKTvu4a0JiM7xXjnxFi6/8VAMg7X3kCjNkG/F4hjtItS29hHE4AIC994wiwA91EUCD9dR2qUWgVkrFwAgCEVtJegHeq+x8okDWY9NHG+3g4AQBIXWAPgMQsVFdGJ6x7qBxKOGwAcpN+6Xn61/FTOAlk1PfL7MZYioULQLsY2JMTgRFg2sRQ1WuFPLyBLB5c41AByG+tBh24I/mSAaTX/9g+sTlJ00rB9BKECQBkBnBvaCNC0MESm4E0Gp9YtzB+nVPdnO/EwgQAUBEm9puIfHticIGay3bvTTfitHCYAOTeRhR2d1O0C38k+S4rveVORJJhAgDVAYzCje/URmhF8s+Z7uZ0EA8TAGiewdEWb8t0HCX5r+xgQlA3wgQAPubIpwwuUnQcFfe30WmUyvyMwwSgfTFJ0/H7LSKFcOnfc9mDNCMdhAMAAaq1IX168R5RoLRvHYybTYlrHDgAki/aHUQZ8vv0BnO6myEEx4pf88QZV0E3HjQAytxYcLmuAaKdR5V2NYckWcjZo7QPga7SV3aUgAGqD5CsozrORNGxzmxAEC6l6SYq0WQH94xgAVBqjwBY+bGJhpMtspilu9HddJfHi5BVQYAA8jeTNmFtBIjs/oRg60OVEPSmdo1wbHlc8QED9KO0bG/BWFc59yI5zNOffJ3adKjR114P1kJLp7RqBxl2NWD3lv5bmfRcps4RSjRbm60gAVCPrnZ1xzONbUOXoLttE4KLKQS4yzoWgQFodLFqEQGmzAMjSLTJX2qd5FOAGxbpAgNYO6NP+ClzhaFHmR4yo9+ljvETgHcmPTOCBMjT5pvZ5gC0rGeuAHUtRSYhRkTQ+ChISAEC2FuQvMUu4p21zQCiapnMR7XziCClTF+8hQMDQDINZZs7SLgb/FK9H2jpaaNyiQiK5yCr4mAAtBO6iVaqQFDqBnoItm4B0D48AdApQMMIBoBZBebeAEHI3vS6qJ0C2p00PU3AWvAApwSAk/bRYgTwrAnkTlIEqIUZ4Dcz596VNgyG8eOnycgb2jVM66YDyqVQuQqoB7yMA8MzxRsTlQ10bp98QCKxmeXSWcvzX49tyc8kTfImz4uMi6gdwFpigEzupTGiJcLr9waCdGQJmxDvxB0GIOluEn1IfAQEn4IyQMH3TqwA+4ymANC/AthhJQxfGggBfScDdHz/jKIc20mMXwN6SbCqaVgrl8a/bKpyCVPs5d99BMg32VSipzic0rwePOzdUTbHO5XaUCTOphJJ4h9AtcZmow+K04LHNCliotLZHLK/BJM5es+acRfQTCml5PJNp6EUY2fQruYAsCSAjNg/8wlArIDxhTETALbsAJEYj48uxaK+cIdmasXWifVd9u5U0F+A+zC7ozRHFRAbAH93gfgKAKissTs+zq4B2yh2wgNbn/0FQDm+Ko61lfkBxCCAy37GRoGOZxOY3WIs0oTIocaDKvrIkuMPgNmvA0Lr+/yeQX4WwKYo/1GUV4A+GtFU1QcAMHtrqVE8q1Hmc85vxgyAU7F//BS2qJFha1qLZVXyxgA0t1fAGI+C6PSRA1TSMB1gci5NzfCy7ZDxskDDO7X35C0B1reK46YfvqYIgP+S1jxbmQrQ4wA6C3yx2Lp6zs0gSf3NABTjd4z/4SCHkFHSeB18rcI0gHZQDGFsD2FzeFXBTy5kQt4EwOjfZsShzluKUHXwRHCQps4AbPebqJOjdJ1RD74RZr7yjap6D5C/bD4zYmlNGN3Yxfzy13XOGaA+BFBJJ8CVGNuVUoFnSn0/9RYAlKua5Cb4MV4uVjC/xLcmOAEMg+zq0SRsGt0nQ56WZEguBImHACYMUrIFd4+OmlV6Z3KerFjPO7Sj0ub2xL+OY9n34xD1L8mTvHbyTvUIAO7aG3L2gh432ikNQRDqbuXhRR9aMTR5PvZZ5Xve2YRkUUjUTokHAKBYRcleETruU8SlpEXd4HCrhBQFBAUMr6yHZyWNilAEUQ+j9maEO+eEvDbAeuM4jiULbikH4mYDilgUQctkby8hl2cyrd5xIYoFYcJ2XGvzqClnRihs6/prAhT+/E5o9v/SgZRXBwE82mooHEplurs3N7snB5V49HnXx51tIh3y3a9I7Sh08mXnFQEyB3JWjh95BcnK/ZQNMFySbfirTv41YbVC0rOV8usBBOQvRbbx4vzavKqxJ5yFA5kj/WXbRkEy872uBUUI465IOiAJ6HVLm4KA8YYwt0ki5Lxps/94BVBp5wE5CqpWNxTQHJI7VWo6mWbmqyW8BsCpBzhDU0Vz1qBYxkPZO0N89XGgqzPOir7rrmEPAXD4WJjcnQUKNPYeVhNhzKXFM8f31orZnsM8kzwMYK8Aws3LKppTdD3fv7q8uB+p3jDyVQqIOh3GlLNmeATQvO0baAGBYpyNZVDg50Ai85n5blKeAKxuraP/klKKzGmE25AAPLAiugKwkm9oRXQ2g7oWpIMemEFd2HHdClZc2XE9MUS7k/kl6IEh2p0l3ZWMXsQDS7rLpACuAD4kp8wjsh4kBWCifbGYEWkZlMUBaD3pQVoGd4kxQi2r6mIgSPqQGMMhNYkWH3xctBLAiniQmsRtchgNZ9pAFxwIIl4kh3GfnidarC/Wm6+CnqTncZ8gSYv+re6MWhKJwjA8RkRtF4tsm0SwFxUIc2pgpoVcgm2n4mClJq6kLrqbCGJLeBM4uspW/3wT3d7ms29Gg3HOPJfeHc9R38/DvE/GnmkTdgMoSJq5okp3Tzh42t4fcRBwRZV/SZgUvUMyezfazrRLEL+DLQlDTVuSxxAP7k0wzVrannIBv2auaQOoaXtbUR74UrikdUl/02jZ9L5lCr4oD1WFLJZsVyeCdha74H1JE3xVIcoiWYTsnOik3b6e8l/A5+DLIvm6TnrPd7VPsmPmTgqfBfyZW10nClM5jP51XqdB25LeC2g93THNqTAVlbUs4rb0HALw5I/nJhQO5ldZi9JgHtlvknSh56+lwW6a7M63NBi1zRwiVc/QoH11zgTtysTH5uvlz2Brm1GczWMXLnQyh/duxWsHrrf/WnE2CKQ4G9XlLJbTowW21S7NeJbdrfpUl3cDqi5HeTyLTD/QC7Ra/WXQFrl67Vto5fGo7+exzvOm6Q5ITUzNhtU0Q63vh0CBxXDaFyRaFjvCHt1fdg4VEChAYcEgY73v5Ke5UcoJkSs1TDUUFpCIMFj9H0Qiot8IcaMrIxGBxoUj15oI2ie6ShqXkUjHaxOsLmmUJwPvwHV6SGiOBS7SgcqIxcg+HnMqo+NHp3UUrsoIMimeLBIDzRhZo3AUvkwKOi82s7UQtJHyWtJIGnd7Kui8IFTjqLRJSj1tV8aXNGoI1aC0Y0hVmliCftqspMb9+XuqKO2oVJAi5Fnmv1QwcybF+FVDHakgtI58U/79cAH3L6d9e1chrSPEmgy2MygWB46dBFZJKbEm1KZs0E6TMV81tekTcchlZ6P8Lq6pAfS+/iio94Vg2RdVBctQXHujruIaknEexSXjVPNOiYDmnYj2CVEQ7Q/Z2qTniJ6ezS1NaRLxjbLH6dmIJzTl+UiDNkJz6LlhOhKYOd0TYwTe/RFL66vlidOzur6kRYhPKzHX6VlR8pvfk4Xl510oLy9oEWRxLRkb/dm2plbsmZ73H2LDf5pVyPxvZWd7e0eLNItBn55/6a20P+it9KgAAAAASUVORK5CYII=">

<link rel="apple-touch-icon" sizes="128x128" href="data:image/png;base64,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">

<link rel="manifest" href="webapp-manifest.json" />
<meta name="apple-mobile-web-app-title" content="Ingress scoring cycle" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="application-name" content="Ingress scoring cycle" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

<script>

window.onload = init;

var EPOCH = 1389150000000;
var CYCLE_LENGTH = 630000000;
var CHECKPOINT_LENGTH = 18000000;
var cycle;
var currentCycle;

function init() {
    if (!cycle) {
        cycle = currentCycle = Math.floor((new Date().getTime() - EPOCH) / CYCLE_LENGTH);
    }

    showCycle(0);
    tick();
}

function showCycle(delta) {
    cycle += delta;

    var data = calcCycle(cycle);

    document.querySelector('#title').innerHTML = data.cycle;

    var dates = {};

    for(var i=0; i<data.checkpoints.length; i++) {
        var checkpoint = data.checkpoints[i];
        var day = checkpoint.date;
        
        if(!dates[day]) dates[day] = {name: checkpoint.nameOfDay, checkpoints: []};

        dates[day].checkpoints.push(checkpoint);
    }

    var rows = [];

    var keys = Object.keys(dates);

    for(var i=0; i<keys.length; i++) {
        var item = dates[keys[i]];
        var row = [];
        row.push('<td class="date">' + keys[i] + '</td>');
        row.push('<td>' + item.name + '</td>');

        for(var j=0; j<5; j++) {
            row.push('<td>&nbsp;</td>');
        }

        for(var j=0; j<item.checkpoints.length; j++) {
            var ix = Math.floor(item.checkpoints[j].hour/5) + 2;
            row[ix] = '<td class="' + item.checkpoints[j].classes + '">' + item.checkpoints[j].time + '</td>';
        }

        rows.push(row);
    }

    var html = '';
    for(var i=0; i<rows.length; i++) {
        html += '<tr>' + rows[i].join('') + '</tr>'
    }

    document.querySelector('#view').innerHTML = html;
}

function calcCycle(cycle) {
    var start = new Date();
    var now = start.getTime();
    var year = formatDate(start, 'YYYY');
    var cycleDisplay = cycle+1;
    start.setTime(EPOCH + (cycle * CYCLE_LENGTH));
    year = formatDate(start, 'YYYY');
    start.setTime(start.getTime()+CHECKPOINT_LENGTH);
    var checkpoints = [];
    for (var i=0; i<35; i++) {
        var next = isNext(start, now);
        checkpoints.push({
            date: formatDate(start, 'DD.MM.YYYY'),
            time: formatDate(start, 'HH:mm'),
            hour: start.getHours(),
            nameOfDay: formatDate(start, 'dddd'),
            classes: (next ? 'next' : (start.getTime() < now ? 'past' : 'upcoming')) + (i==34 ? ' final' : ''),
            next: next
        });

        if(formatDate(start, 'HH:mm') === '00:00') {
            var last = checkpoints.pop();

            var prevDay = new Date(start.getTime() - 60000);

            checkpoints.push({
                date: formatDate(prevDay, 'DD.MM.YYYY'),
                time: last.time,
                hour: 24,
                nameOfDay: formatDate(prevDay, 'dddd'),
                classes: last.classes,
                next: last.next
            });

            checkpoints.push(last);
        }

        start.setTime(start.getTime()+CHECKPOINT_LENGTH);
    }

    if (year > 2014) {
        var yearEnd = new Date(year-1, 11, 31, 23, 59);
        var lastCycle = Math.floor((yearEnd.getTime() - EPOCH) / CYCLE_LENGTH);
        cycleDisplay = cycle - lastCycle;
    }

    if (cycleDisplay < 10) {
        cycleDisplay = '0'+cycleDisplay;
    }
    
    return {cycle: year+'.'+(cycleDisplay), checkpoints:checkpoints, current:(cycle == currentCycle)};
}

function isNext(start, now) {
    return (start.getTime() > now && (now + CHECKPOINT_LENGTH) > start.getTime());
}

function formatDate(date, format) {
    return moment(date).format(format);
}

function tick() {
    showCycle(0);
}
window.setInterval(tick, 1000);

</script>

<style>
    document, body, td {
        font-family: -apple-system,BlinkMacSystemFont,Roboto,Helvetica,Arial,sans-serif;
        font-size: 14px;
    }

    main {
        width: 100%;
        text-align: center;
    }

    .wrapper {
        margin: auto;
        padding-top: 8px;
        width: 600px;
        text-align: center;
    }

    #view {
        width: 100%;
        border-collapse: collapse;
    }

    td {
        border: 1px solid #333;
        padding: 2px;
    }

    .title {
        background-color: #333;
        color: #fff;
        text-align: center;
        border-top: 1px solid #333;
        border-left: 1px solid #333;
        border-right: 1px solid #333;
    }

    .next {
        text-align: right;
        background-color: #9999ff;
        font-weight: bold;
    }

    .past {
        text-align: right;
        background-color: #bbb;
    }

    .upcoming {
        text-align: right;
    }

    .final {
        text-align: right;
        background-color: #ff9999;
    }

    #prev {
        float: left;
        padding-top: 2px;
        padding-left: 12px;
    }

    #next {
        float: right;
        padding-top: 2px;
        padding-right: 12px;
    }

    #title {
        display: inline-block;
    }

    a {
        text-decoration: none;
        color: beige;
        font-size: 12px;
    }

    h1 {
        margin: auto;
    }

    .date {
        font-weight: bold;
    }

    @media only screen and (max-width: 480px) {
	    .wrapper {
	        width: 100%;
	    }

	    document, body, td {
	        font-size: 12px;
	    }

	    a {
	        font-size: 10px;
	    }
	}
</style>

</head>

<body>

<div class="main">
    <div class="wrapper">
        <h2>Ingress scoring cycle</h2>

        <div class="title">
            <div id="prev"><a href="#" onclick="showCycle(-1);return false;">PREV</a></div>
            <div id="title"></div>
            <div id="next"><a href="#" onclick="showCycle(1);return false;">NEXT</a></div>
        </div>
        <div>
            <table id="view">
            </table>
        </div>
    </div>
</div>

</body>

</html>